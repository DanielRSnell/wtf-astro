import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.DtoOFyvK.js";const x=({content:i})=>{const[n,d]=c.useState([]),[m,u]=c.useState("");if(c.useEffect(()=>{const e=/^(#{2})\s+(.+)$/gm,t=[];let r;for(;(r=e.exec(i))!==null;){const a=r[1].length,o=r[2].trim(),l=o.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim();t.push({id:l,title:o,level:a})}d(t),setTimeout(()=>{document.querySelectorAll(".prose h2").forEach((o,l)=>{!o.id&&l<t.length&&(o.id=t[l].id)})},100)},[i]),c.useEffect(()=>{const e=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&u(r.target.id)})},{rootMargin:"-100px 0px -66%",threshold:0});return n.forEach(t=>{const r=document.getElementById(t.id);r&&e.observe(r)}),()=>e.disconnect()},[n]),n.length===0)return null;const h=e=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})};return s.jsxs("div",{className:"rounded-2xl bg-card/60 backdrop-blur-xl border border-border/20 p-6",children:[s.jsx("h3",{className:"text-sm font-medium text-foreground mb-6",children:"On this page"}),s.jsx("nav",{className:"prose prose-sm dark:prose-invert max-w-none",children:s.jsx("ul",{className:"space-y-3 list-none pl-0 m-0",children:n.map(e=>s.jsx("li",{className:"m-0",children:s.jsx("button",{onClick:()=>h(e.id),className:`block w-full text-left py-2 px-3 rounded-lg transition-all duration-200 hover:bg-muted/50 ${m===e.id?"text-primary bg-primary/10 font-medium":"text-muted-foreground hover:text-foreground"}`,children:e.title})},e.id))})})]})};export{x as TableOfContents};
